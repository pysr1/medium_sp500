"0","symbols = sp500tickers$Symbol"
"0","# define a function that retunrs OHLC data with the ticker name"
"0","get_symbols = function(ticker = ""AAPL""){"
"0","  df = tq_get(ticker, from = date)  %>%  mutate(symbol = rep(ticker, length(date)))"
"0","  return(df)"
"0","}"
"0","#create the dataframe of SP500 data by interating over our list of symbols and call our get symbols function each time"
"0","#the map function accomplishes this"
"0",""
"0","tickers_df = map(symbols, get_symbols) %>% bind_rows()"
"0","tickers_df = tickers_df %>% "
"0","  # left join with wikipedia data"
"0","  left_join(sp500tickers, by = c('symbol' = 'Symbol')) %>% "
"0","  # make names R compatible"
"0","  clean_names() %>% "
"0","  # keep only the columns we need"
"0","  select(date:security, gics_sector, gics_sub_industry)"
"0",""
"0",""
"0","#tickers_df = tq_get(symbols)"
"0","Rows = dim(tickers_df)[1]"
"0","Columns = dim(tickers_df)[2]"
"0","dimensions = data.frame(Rows, Columns)"
"0","print(dimensions)"
